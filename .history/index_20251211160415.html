<!doctype html>
<html lang="de" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Praxis Dr. med. Bernd Kohlhase – Premium Kinderarzt Hameln</title>

    <!-- Optional: SDK (Canva/Element-Umgebung). Для обычного хостинга можно оставить, ошибки не критичны -->
    <script src="/_sdk/element_sdk.js"></script>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <style>
        body {
            box-sizing: border-box;
        }

        .font-serif {
            font-family: 'Crimson Pro', Georgia, serif;
        }

        .font-sans,
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.7);
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float-delayed {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        .float-delayed {
            animation: float-delayed 8s ease-in-out infinite;
        }

        /* Accessibility: отключаем анимации для пользователей с prefers-reduced-motion */
        @media (prefers-reduced-motion: reduce) {

            .float-animation,
            .float-delayed {
                animation: none !important;
            }
        }
    </style>

    <style>
        @view-transition {
            navigation: auto;
        }
    </style>
</head>

<body class="h-full font-sans">
    <div id="app" class="w-full h-full overflow-auto"></div>

    <script>
        const defaultConfig = {
            background_color: "#fdfcfb",
            surface_color: "#ffffff",
            text_color: "#3a4a5c",
            primary_action_color: "#a8d5e2",
            secondary_action_color: "#c4e3d6",
            font_family: "Inter",
            font_size: 16,
            hero_title: "Kinder- & Jugendmedizin mit Herz und Kompetenz",
            hero_subtitle:
                "Praxis Dr. med. Bernd Kohlhase – einfühlsame, moderne und hochwertige medizinische Betreuung in Hameln.",
            doctor_name: "Dr. med. Bernd Kohlhase",
            practice_address: "Fröbelweg 4, 31785 Hameln",
            phone_number: "05151 ...",
            primary_button_text: "Kontakt aufnehmen",
            secondary_button_text: "Sprechzeiten ansehen",
            call_button_text: "Jetzt anrufen",
        };

        async function onConfigChange(config) {
            const customFont = config.font_family || defaultConfig.font_family;
            const baseSize = config.font_size || defaultConfig.font_size;
            const baseFontStack =
                "Inter, -apple-system, BlinkMacSystemFont, sans-serif";

            const app = document.getElementById("app");

            app.style.backgroundColor =
                config.background_color || defaultConfig.background_color;
            app.style.fontFamily = `${customFont}, ${baseFontStack}`;
            app.style.color = config.text_color || defaultConfig.text_color;

            const primaryColor =
                config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryColor =
                config.secondary_action_color ||
                defaultConfig.secondary_action_color;
            const surfaceColor =
                config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const bgColor =
                config.background_color || defaultConfig.background_color;

            const rawPhone = config.phone_number || defaultConfig.phone_number;
            const phoneHref = rawPhone
                ? "tel:" + rawPhone.replace(/[^\d+]/g, "")
                : "";

            app.innerHTML = `
        <!-- Premium Header -->
        <header style="background-color: ${surfaceColor}; box-shadow: 0 1px 3px rgba(0,0,0,0.04);" class="sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 lg:px-12 py-5 flex justify-between items-center">
            <div class="flex items-center gap-4">
            <div style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); width: 52px; height: 52px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(168, 213, 226, 0.3);">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
            </div>
            <div>
                <div style="font-size: ${baseSize * 1.05}px; font-weight: 600; color: ${textColor}; letter-spacing: -0.01em;">Praxis ${config.doctor_name || defaultConfig.doctor_name
                }</div>
                <div style="font-size: ${baseSize * 0.8
                }px; color: ${textColor}; opacity: 0.6; font-weight: 300;">Kinderarzt Hameln</div>
            </div>
            </div>
            <a href="${phoneHref || "#"
                }" style="background-color: ${primaryColor}; color: ${textColor}; font-size: ${baseSize * 0.9
                }px; padding: 12px 28px; border-radius: 50px; font-weight: 500; border: none; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 8px rgba(168, 213, 226, 0.25); text-decoration: none; display: inline-flex; align-items: center; justify-content: center;"
            aria-label="Praxis anrufen"
            onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 12px rgba(168, 213, 226, 0.35)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(168, 213, 226, 0.25)'">
            ${config.call_button_text || defaultConfig.call_button_text
                }
            </a>
        </div>
        </header>

        <!-- Hero Section with Premium Child-Friendly Design -->
        <section class="relative overflow-hidden" style="background: linear-gradient(180deg, ${surfaceColor} 0%, ${bgColor} 100%);">
        <!-- Floating decorative elements -->
        <div style="position: absolute; top: 80px; right: 10%; width: 120px; height: 120px; opacity: 0.4;" class="float-animation">
            <svg viewBox="0 0 120 120" fill="none" aria-hidden="true" focusable="false">
            <circle cx="60" cy="60" r="50" fill="${secondaryColor}" opacity="0.3"/>
            <path d="M 60 20 L 65 45 L 90 50 L 70 65 L 75 90 L 60 75 L 45 90 L 50 65 L 30 50 L 55 45 Z" fill="${primaryColor}" opacity="0.6"/>
            </svg>
        </div>
        
        <div style="position: absolute; top: 200px; left: 8%; width: 80px; height: 80px; opacity: 0.35;" class="float-delayed">
            <svg viewBox="0 0 80 80" fill="none" aria-hidden="true" focusable="false">
            <path d="M 10 40 Q 10 10 40 10 Q 70 10 70 40 Q 70 50 60 50 L 20 50 Q 10 50 10 40 Z" fill="${secondaryColor}" opacity="0.5"/>
            <circle cx="30" cy="30" r="4" fill="white" opacity="0.8"/>
            <circle cx="50" cy="30" r="4" fill="white" opacity="0.8"/>
            </svg>
          </div>

          <div style="position: absolute; bottom: 100px; right: 15%; width: 60px; height: 60px; opacity: 0.3;" class="float-animation">
            <svg viewBox="0 0 60 60" fill="none" aria-hidden="true" focusable="false">
              <circle cx="30" cy="30" r="25" fill="${primaryColor}" opacity="0.4"/>
              <circle cx="30" cy="30" r="15" fill="${primaryColor}" opacity="0.6"/>
            </svg>
          </div>

          <div class="max-w-7xl mx-auto px-6 lg:px-12 py-20 md:py-32">
            <div class="grid md:grid-cols-2 gap-16 items-center">
              <div>
                <div style="display: inline-block; background: linear-gradient(135deg, ${primaryColor}30, ${secondaryColor}30); padding: 8px 20px; border-radius: 50px; font-size: ${baseSize * 0.85
                }px; font-weight: 500; color: ${textColor}; margin-bottom: 24px; letter-spacing: 0.02em;">
                  ✨ Premium Kinderarztpraxis
                </div>
                <h1 class="font-serif" style="font-size: ${baseSize * 3
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 24px; line-height: 1.15; letter-spacing: -0.02em;">
                  ${config.hero_title || defaultConfig.hero_title}
                </h1>
                <p style="font-size: ${baseSize * 1.15
                }px; color: ${textColor}; opacity: 0.75; margin-bottom: 40px; line-height: 1.7; font-weight: 300;">
                  ${config.hero_subtitle || defaultConfig.hero_subtitle}
                </p>
                <div class="flex gap-4 flex-wrap">
                  <button style="background-color: ${primaryColor}; color: ${textColor}; font-size: ${baseSize}px; padding: 16px 36px; border-radius: 50px; font-weight: 500; border: none; cursor: pointer; box-shadow: 0 4px 16px rgba(168, 213, 226, 0.3); transition: all 0.3s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(168, 213, 226, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 16px rgba(168, 213, 226, 0.3)'">
                    ${config.primary_button_text ||
                defaultConfig.primary_button_text
                }
                  </button>
                  <button style="background-color: transparent; color: ${textColor}; font-size: ${baseSize}px; padding: 16px 36px; border-radius: 50px; font-weight: 500; border: 2px solid ${primaryColor}40; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.backgroundColor='${primaryColor}10'; this.style.borderColor='${primaryColor}'" onmouseout="this.style.backgroundColor='transparent'; this.style.borderColor='${primaryColor}40'">
                    ${config.secondary_button_text ||
                defaultConfig.secondary_button_text
                }
                  </button>
                </div>
              </div>
              
              <!-- Premium illustration -->
              <div class="relative">
                <div style="background: linear-gradient(135deg, ${primaryColor}15, ${secondaryColor}15); border-radius: 40px; padding: 60px; position: relative; box-shadow: 0 20px 60px rgba(0,0,0,0.06);">
                  <svg viewBox="0 0 400 400" style="width: 100%; height: auto;" aria-hidden="true" focusable="false">
                    <!-- Parent and child illustration -->
                    <circle cx="150" cy="150" r="70" fill="${primaryColor}" opacity="0.2"/>
                    <circle cx="150" cy="150" r="55" fill="${primaryColor}" opacity="0.4"/>
                    <circle cx="145" cy="140" r="12" fill="white"/>
                    <circle cx="165" cy="140" r="12" fill="white"/>
                    <path d="M 135 165 Q 150 175 165 165" stroke="white" stroke-width="5" fill="none" stroke-linecap="round"/>
                    
                    <!-- Child -->
                    <circle cx="270" cy="200" r="50" fill="${secondaryColor}" opacity="0.3"/>
                    <circle cx="270" cy="200" r="40" fill="${secondaryColor}" opacity="0.5"/>
                    <circle cx="265" cy="193" r="8" fill="white"/>
                    <circle cx="280" cy="193" r="8" fill="white"/>
                    <path d="M 260 208 Q 270 215 280 208" stroke="white" stroke-width="4" fill="none" stroke-linecap="round"/>
                    
                    <!-- Decorative stars -->
                    <path d="M 80 80 L 83 88 L 91 91 L 83 94 L 80 102 L 77 94 L 69 91 L 77 88 Z" fill="${primaryColor}" opacity="0.6"/>
                    <path d="M 320 120 L 323 128 L 331 131 L 323 134 L 320 142 L 317 134 L 309 131 L 317 128 Z" fill="${secondaryColor}" opacity="0.6"/>
                    <path d="M 340 280 L 342 286 L 348 288 L 342 290 L 340 296 L 338 290 L 332 288 L 338 286 Z" fill="${primaryColor}" opacity="0.5"/>
                    
                    <!-- Hearts -->
                    <path d="M 200 320 C 200 310 205 305 210 305 C 215 305 220 310 220 320 C 220 310 225 305 230 305 C 235 305 240 310 240 320 C 240 335 220 345 220 345 C 220 345 200 335 200 320 Z" fill="${secondaryColor}" opacity="0.4"/>
                  </svg>
                </div>
                
                <!-- Floating badge -->
                <div style="position: absolute; top: 30px; right: 30px; background-color: ${surfaceColor}; padding: 16px 24px; border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.08);">
                  <div style="font-size: ${baseSize * 0.75
                }px; color: ${textColor}; opacity: 0.6; margin-bottom: 4px;">Vertrauen seit</div>
                  <div style="font-size: ${baseSize * 1.3
                }px; font-weight: 600; color: ${primaryColor};">15+ Jahren</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Premium Praxis Intro with Curved Divider -->
        <div style="background-color: ${bgColor}; position: relative;">
          <svg style="width: 100%; height: 60px; display: block;" viewBox="0 0 1200 60" preserveAspectRatio="none" aria-hidden="true" focusable="false">
            <path d="M 0 0 Q 600 60 1200 0 L 1200 60 L 0 60 Z" fill="${surfaceColor}"/>
          </svg>
        </div>

        <section class="py-20" style="background-color: ${surfaceColor};">
          <div class="max-w-6xl mx-auto px-6 lg:px-12">
            <div class="text-center mb-16">
              <h2 class="font-serif" style="font-size: ${baseSize * 2.5
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 16px; letter-spacing: -0.01em;">Willkommen in unserer Praxis</h2>
              <p style="font-size: ${baseSize * 1.1
                }px; color: ${textColor}; opacity: 0.7; max-width: 700px; margin: 0 auto; line-height: 1.7; font-weight: 300;">
                Moderne Medizin trifft auf einfühlsame Betreuung – für das Wohlbefinden Ihrer Kinder.
              </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-10">
              <div style="background: linear-gradient(135deg, ${surfaceColor}, ${primaryColor}08); padding: 40px; border-radius: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.04); text-align: center; border: 1px solid ${primaryColor}15;">
                <div style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 6px 20px rgba(168, 213, 226, 0.3);">
                  <svg width="34" height="34" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                </div>
                <h3 style="font-size: ${baseSize * 1.2
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 12px;">Facharzt für Kinder- und Jugendmedizin</h3>
                <p style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.65; line-height: 1.6; font-weight: 300;">Langjährige Erfahrung und Expertise</p>
              </div>

              <div style="background: linear-gradient(135deg, ${surfaceColor}, ${secondaryColor}08); padding: 40px; border-radius: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.04); text-align: center; border: 1px solid ${secondaryColor}15;">
                <div style="background: linear-gradient(135deg, ${secondaryColor}, ${primaryColor}); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 6px 20px rgba(196, 227, 214, 0.3);">
                  <svg width="34" height="34" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                  </svg>
                </div>
                <h3 style="font-size: ${baseSize * 1.2
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 12px;">Zentrale Lage</h3>
                <p style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.65; line-height: 1.6; font-weight: 300;">${config.practice_address || defaultConfig.practice_address
                }</p>
              </div>

              <div style="background: linear-gradient(135deg, ${surfaceColor}, ${primaryColor}08); padding: 40px; border-radius: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.04); text-align: center; border: 1px solid ${primaryColor}15;">
                <div style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 6px 20px rgba(168, 213, 226, 0.3);">
                  <svg width="34" height="34" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                    <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path>
                    <path d="M12.02 21.485a1.996 1.996 0 0 1 -1.433 -.585l-.03 -.03l-4.244 -4.243a8 8 0 1 1 13.403 -3.651"></path>
                    <path d="M16 22l5 -5"></path>
                    <path d="M21 21.5v-4.5h-4.5"></path>
                  </svg>
                </div>
                <h3 style="font-size: ${baseSize * 1.2
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 12px;">Alle Versicherungen</h3>
                <p style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.65; line-height: 1.6; font-weight: 300;">Gesetzlich & privat versichert</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Sprechzeiten with Premium Glass Effect -->
        <section class="py-20" style="background: linear-gradient(180deg, ${surfaceColor} 0%, ${bgColor} 100%);">
          <div class="max-w-5xl mx-auto px-6 lg:px-12">
            <div class="text-center mb-12">
              <h2 class="font-serif" style="font-size: ${baseSize * 2.5
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 12px; letter-spacing: -0.01em;">Sprechzeiten</h2>
              <div style="display: inline-block; background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); padding: 10px 28px; border-radius: 50px; font-size: ${baseSize * 1.05
                }px; font-weight: 500; color: white; box-shadow: 0 4px 16px rgba(168, 213, 226, 0.3); margin-top: 8px;">
                Heute geöffnet: 08:30–12:00 & 15:00–18:00
              </div>
            </div>
            
            <div class="glass-effect" style="border-radius: 30px; padding: 48px; box-shadow: 0 8px 32px rgba(0,0,0,0.06); border: 1px solid rgba(255,255,255,0.8);">
              <div style="display: grid; gap: 16px;">
                ${[
                    { day: "Montag", times: "08:30–12:00, 15:00–18:00", today: true },
                    { day: "Dienstag", times: "08:30–12:00, 15:00–18:00", today: false },
                    { day: "Mittwoch", times: "08:30–12:00", today: false },
                    { day: "Donnerstag", times: "08:30–12:00, 15:00–18:00", today: false },
                    { day: "Freitag", times: "08:30–12:00", today: false },
                    { day: "Samstag", times: "Geschlossen", today: false },
                    { day: "Sonntag", times: "Geschlossen", today: false },
                ]
                    .map(
                        (schedule) => `
                  <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px 24px; background: ${schedule.today
                                ? `linear-gradient(135deg, ${primaryColor}15, ${secondaryColor}10)`
                                : surfaceColor
                            }; border-radius: 20px; border: 1px solid ${schedule.today ? primaryColor + "30" : "transparent"
                            };">
                    <span style="font-size: ${baseSize * 1.05
                            }px; font-weight: ${schedule.today ? "600" : "500"
                            }; color: ${textColor};">${schedule.day}</span>
                    <span style="font-size: ${baseSize * 1.05
                            }px; color: ${textColor}; opacity: ${schedule.times === "Geschlossen" ? "0.4" : "0.75"
                            }; font-weight: 300;">${schedule.times}</span>
                  </div>
                `
                    )
                    .join("")}
              </div>
            </div>
          </div>
        </section>

        <!-- Premium Leistungen with Child-Friendly Cards -->
        <section class="py-20" style="background-color: ${bgColor};">
          <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="text-center mb-16">
              <h2 class="font-serif" style="font-size: ${baseSize * 2.5
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 16px; letter-spacing: -0.01em;">Unsere Leistungen</h2>
              <p style="font-size: ${baseSize * 1.1
                }px; color: ${textColor}; opacity: 0.7; max-width: 650px; margin: 0 auto; line-height: 1.7; font-weight: 300;">
                Umfassende medizinische Betreuung für Ihr Kind – von der Geburt bis zum Erwachsenenalter.
              </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
              ${[
                    {
                        icon: '<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',
                        title: "Vorsorgeuntersuchungen",
                        desc: "U1 bis J2 – Entwicklung im Blick",
                        color: primaryColor,
                        decoration:
                            '<path d="M 5 5 L 8 11 L 14 8 L 11 14 L 17 11 L 14 17 Z" fill="currentColor" opacity="0.2"/>',
                    },
                    {
                        icon: '<path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',
                        title: "Impfungen",
                        desc: "Nach STIKO-Empfehlungen",
                        color: secondaryColor,
                        decoration:
                            '<circle cx="10" cy="10" r="3" fill="currentColor" opacity="0.2"/><circle cx="15" cy="7" r="2" fill="currentColor" opacity="0.15"/>',
                    },
                    {
                        icon: '<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',
                        title: "Akutsprechstunde",
                        desc: "Schnelle Hilfe bei Bedarf",
                        color: primaryColor,
                        decoration:
                            '<path d="M 6 6 L 9 12 L 6 18" stroke="currentColor" opacity="0.2" fill="none" stroke-width="2"/>',
                    },
                    {
                        icon: '<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',
                        title: "Beratung für Eltern",
                        desc: "Ernährung, Entwicklung, Erziehung",
                        color: secondaryColor,
                        decoration:
                            '<path d="M 12 5 L 14 9 L 18 10 L 15 13 L 16 17 L 12 15 L 8 17 L 9 13 L 6 10 L 10 9 Z" fill="currentColor" opacity="0.2"/>',
                    },
                    {
                        icon: '<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line>',
                        title: "Entwicklungsdiagnostik",
                        desc: "Frühzeitige Erkennung",
                        color: primaryColor,
                        decoration:
                            '<rect x="7" y="7" width="4" height="4" fill="currentColor" opacity="0.2" rx="1"/>',
                    },
                    {
                        icon: '<path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path><path d="M12.02 21.485a1.996 1.996 0 0 1 -1.433 -.585l-.03 -.03l-4.244 -4.243a8 8 0 1 1 13.403 -3.651"></path>',
                        title: "Allergologie",
                        desc: "Tests und Behandlung",
                        color: secondaryColor,
                        decoration:
                            '<circle cx="8" cy="8" r="2" fill="currentColor" opacity="0.2"/><circle cx="16" cy="8" r="2" fill="currentColor" opacity="0.15"/>',
                    },
                ]
                    .map(
                        (service) => `
                <div style="background: linear-gradient(135deg, ${surfaceColor}, ${service.color
                            }08); padding: 40px; border-radius: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.04); text-align: center; border: 1px solid ${service.color
                            }15; position: relative; overflow: hidden; transition: transform 0.3s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
                  <svg style="position: absolute; top: 15px; right: 15px; width: 40px; height: 40px; color: ${service.color
                            }; opacity: 0.15;" aria-hidden="true" focusable="false">
                    ${service.decoration}
                  </svg>
                  <div style="background: linear-gradient(135deg, ${service.color}, ${service.color === primaryColor ? secondaryColor : primaryColor
                            }); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px; box-shadow: 0 6px 20px ${service.color
                            }40;">
                    <svg width="34" height="34" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                      ${service.icon}
                    </svg>
                  </div>
                  <h3 style="font-size: ${baseSize * 1.15
                            }px; font-weight: 600; color: ${textColor}; margin-bottom: 10px;">${service.title
                            }</h3>
                  <p style="font-size: ${baseSize * 0.95
                            }px; color: ${textColor}; opacity: 0.65; line-height: 1.6; font-weight: 300;">${service.desc
                            }</p>
                </div>
              `
                    )
                    .join("")}
            </div>
          </div>
        </section>

        <!-- Warum unsere Praxis? Premium Trust Section -->
        <section class="py-20" style="background: linear-gradient(135deg, ${surfaceColor}, ${primaryColor}05);">
          <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="grid md:grid-cols-2 gap-16 items-center">
              <div>
                <h2 class="font-serif" style="font-size: ${baseSize * 2.5
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 24px; letter-spacing: -0.01em;">Warum unsere Praxis?</h2>
                <p style="font-size: ${baseSize * 1.1
                }px; color: ${textColor}; opacity: 0.7; margin-bottom: 40px; line-height: 1.7; font-weight: 300;">
                  Vertrauen, Kompetenz und Herz – für die Gesundheit Ihrer Liebsten.
                </p>
                
                <div style="display: flex; flex-direction: column; gap: 24px;">
                  ${[
                    {
                        icon: '<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',
                        text: "Einfühlsame Betreuung",
                    },
                    {
                        icon: '<path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',
                        text: "Moderne Diagnostik",
                    },
                    {
                        icon: '<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',
                        text: "Kurze Wege, zentrale Lage",
                    },
                    {
                        icon: '<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',
                        text: "Kindgerechte Atmosphäre",
                    },
                ]
                    .map(
                        (benefit) => `
                    <div style="display: flex; align-items: center; gap: 20px;">
                      <div style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); width: 56px; height: 56px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; box-shadow: 0 4px 16px ${primaryColor}30;">
                        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                          ${benefit.icon}
                        </svg>
                      </div>
                      <span style="font-size: ${baseSize * 1.1
                            }px; font-weight: 500; color: ${textColor};">${benefit.text
                            }</span>
                    </div>
                  `
                    )
                    .join("")}
                </div>
              </div>
              
              <div style="position: relative;">
                <div style="background: linear-gradient(135deg, ${primaryColor}15, ${secondaryColor}15); border-radius: 40px; padding: 60px; box-shadow: 0 20px 60px rgba(0,0,0,0.06);">
                  <svg viewBox="0 0 400 400" style="width: 100%; height: auto;" aria-hidden="true" focusable="false">
                    <!-- Caring hands illustration -->
                    <ellipse cx="200" cy="250" rx="120" ry="40" fill="${primaryColor}" opacity="0.1"/>
                    
                    <!-- Adult hand -->
                    <path d="M 100 200 Q 100 180 120 180 L 140 180 Q 160 180 160 200 L 160 260 Q 160 280 140 280 L 120 280 Q 100 280 100 260 Z" fill="${primaryColor}" opacity="0.4"/>
                    <circle cx="130" cy="240" r="35" fill="${primaryColor}" opacity="0.5"/>
                    
                    <!-- Child hand -->
                    <path d="M 240 220 Q 240 205 255 205 L 270 205 Q 285 205 285 220 L 285 265 Q 285 280 270 280 L 255 280 Q 240 280 240 265 Z" fill="${secondaryColor}" opacity="0.4"/>
                    <circle cx="262" cy="250" r="28" fill="${secondaryColor}" opacity="0.5"/>
                    
                    <!-- Heart between hands -->
                    <path d="M 200 210 C 200 200 205 195 210 195 C 215 195 220 200 220 210 C 220 200 225 195 230 195 C 235 195 240 200 240 210 C 240 225 220 240 220 240 C 220 240 200 225 200 210 Z" fill="${primaryColor}" opacity="0.6"/>
                    
                    <!-- Stars -->
                    <path d="M 80 100 L 83 108 L 91 111 L 83 114 L 80 122 L 77 114 L 69 111 L 77 108 Z" fill="${secondaryColor}" opacity="0.5"/>
                    <path d="M 320 140 L 323 148 L 331 151 L 323 154 L 320 162 L 317 154 L 309 151 L 317 148 Z" fill="${primaryColor}" opacity="0.5"/>
                    <path d="M 300 80 L 302 86 L 308 88 L 302 90 L 300 96 L 298 90 L 292 88 L 298 86 Z" fill="${secondaryColor}" opacity="0.4"/>
                  </svg>
                </div>
                
                <!-- Floating badge -->
                <div style="position: absolute; bottom: 30px; left: 30px; background-color: ${surfaceColor}; padding: 20px 28px; border-radius: 25px; box-shadow: 0 8px 24px rgba(0,0,0,0.1);">
                  <div style="font-size: ${baseSize * 0.8
                }px; color: ${textColor}; opacity: 0.6; margin-bottom: 6px;">Zufriedene Familien</div>
                  <div style="font-size: ${baseSize * 1.5
                }px; font-weight: 700; color: ${primaryColor};">1.500+</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Premium Kontakt Section -->
        <section class="py-20" style="background: linear-gradient(180deg, ${bgColor} 0%, ${surfaceColor} 100%);">
          <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="grid md:grid-cols-2 gap-16 items-center">
              <div style="background: linear-gradient(135deg, ${primaryColor}10, ${secondaryColor}10); border-radius: 40px; padding: 60px; position: relative; box-shadow: 0 12px 48px rgba(0,0,0,0.06);">
                <!-- Decorative elements -->
                <div style="position: absolute; top: 20px; right: 20px; width: 60px; height: 60px; opacity: 0.3;">
                  <svg viewBox="0 0 60 60" fill="none" aria-hidden="true" focusable="false">
                    <path d="M 15 30 L 18 36 L 24 39 L 18 42 L 15 48 L 12 42 L 6 39 L 12 36 Z" fill="${primaryColor}"/>
                  </svg>
                </div>
                
                <svg viewBox="0 0 400 400" style="width: 100%; height: auto;" aria-hidden="true" focusable="false">
                  <!-- Phone illustration -->
                  <rect x="120" y="80" width="160" height="240" rx="20" fill="${surfaceColor}" opacity="0.9"/>
                  <rect x="130" y="100" width="140" height="180" rx="10" fill="${primaryColor}" opacity="0.2"/>
                  <circle cx="200" cy="300" r="15" fill="${primaryColor}" opacity="0.4"/>
                  
                  <!-- Location pin -->
                  <circle cx="200" cy="180" r="50" fill="${secondaryColor}" opacity="0.3"/>
                  <path d="M 200 140 C 180 140 165 155 165 175 C 165 200 200 220 200 220 C 200 220 235 200 235 175 C 235 155 220 140 200 140 Z" fill="${primaryColor}" opacity="0.5"/>
                  <circle cx="200" cy="175" r="12" fill="white"/>
                  
                  <!-- Stars around -->
                  <path d="M 90 120 L 92 126 L 98 128 L 92 130 L 90 136 L 88 130 L 82 128 L 88 126 Z" fill="${secondaryColor}" opacity="0.4"/>
                  <path d="M 310 160 L 312 166 L 318 168 L 312 170 L 310 176 L 308 170 L 302 168 L 308 166 Z" fill="${primaryColor}" opacity="0.4"/>
                </svg>
              </div>
              
              <div>
                <h2 class="font-serif" style="font-size: ${baseSize * 2.5
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 24px; letter-spacing: -0.01em;">Kontaktieren Sie uns</h2>
                <p style="font-size: ${baseSize * 1.1
                }px; color: ${textColor}; opacity: 0.7; margin-bottom: 40px; line-height: 1.7; font-weight: 300;">
                  Wir sind für Sie und Ihre Familie da. Vereinbaren Sie gerne einen Termin.
                </p>
                
                <div style="display: flex; flex-direction: column; gap: 24px; margin-bottom: 40px;">
                  <div style="display: flex; align-items: center; gap: 20px;">
                    <div style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; box-shadow: 0 4px 16px ${primaryColor}30;">
                      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                      </svg>
                    </div>
                    <div>
                      <div style="font-size: ${baseSize * 0.85
                }px; color: ${textColor}; opacity: 0.6; margin-bottom: 6px; font-weight: 300;">Telefon</div>
                      <div style="font-size: ${baseSize * 1.4
                }px; font-weight: 600; color: ${textColor};">${config.phone_number || defaultConfig.phone_number
                }</div>
                    </div>
                  </div>
                  
                  <div style="display: flex; align-items: center; gap: 20px;">
                    <div style="background: linear-gradient(135deg, ${secondaryColor}, ${primaryColor}); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; box-shadow: 0 4px 16px ${secondaryColor}30;">
                      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                      </svg>
                    </div>
                    <div>
                      <div style="font-size: ${baseSize * 0.85
                }px; color: ${textColor}; opacity: 0.6; margin-bottom: 6px; font-weight: 300;">Adresse</div>
                      <div style="font-size: ${baseSize * 1.15
                }px; font-weight: 500; color: ${textColor}; line-height: 1.5;">${config.practice_address || defaultConfig.practice_address
                }</div>
                    </div>
                  </div>
                </div>
                
                <a href="${phoneHref || "#"
                }" style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); color: white; font-size: ${baseSize * 1.05
                }px; padding: 18px 48px; border-radius: 50px; font-weight: 600; border: none; cursor: pointer; box-shadow: 0 6px 24px rgba(168, 213, 226, 0.35); transition: all 0.3s; display: inline-block; text-decoration: none;"
                  aria-label="Praxis jetzt anrufen"
                  onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 32px rgba(168, 213, 226, 0.45)'"
                  onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 24px rgba(168, 213, 226, 0.35)'">
                  ${config.call_button_text || defaultConfig.call_button_text
                }
                </a>
              </div>
            </div>
          </div>
        </section>

        <!-- Premium Clean Footer -->
        <footer style="background-color: ${surfaceColor}; border-top: 1px solid ${primaryColor}10; padding: 60px 0 32px;">
          <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
              <div class="md:col-span-2">
                <div class="flex items-center gap-3 mb-4">
                  <div style="background: linear-gradient(135deg, ${primaryColor}, ${secondaryColor}); width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" aria-hidden="true" focusable="false">
                      <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                  </div>
                  <div>
                    <div class="font-serif" style="font-size: ${baseSize * 1.15
                }px; font-weight: 600; color: ${textColor};">Praxis ${config.doctor_name || defaultConfig.doctor_name
                }</div>
                  </div>
                </div>
                <p style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.6; line-height: 1.7; font-weight: 300; max-width: 350px;">
                  Facharzt für Kinder- und Jugendmedizin<br>
                  Einfühlsame und hochwertige Betreuung in Hameln
                </p>
              </div>
              
              <div>
                <h3 style="font-size: ${baseSize * 0.95
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 16px; letter-spacing: 0.02em; text-transform: uppercase; opacity: 0.8;">Kontakt</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                  <p style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.6; font-weight: 300;">Tel: ${config.phone_number || defaultConfig.phone_number
                }</p>
                  <p style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.6; font-weight: 300;">${config.practice_address || defaultConfig.practice_address
                }</p>
                </div>
              </div>
              
              <div>
                <h3 style="font-size: ${baseSize * 0.95
                }px; font-weight: 600; color: ${textColor}; margin-bottom: 16px; letter-spacing: 0.02em; text-transform: uppercase; opacity: 0.8;">Rechtliches</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                  <a href="#" style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.6; text-decoration: none; transition: opacity 0.2s; font-weight: 300;" onmouseover="this.style.opacity='1'; this.style.color='${primaryColor}'" onmouseout="this.style.opacity='0.6'; this.style.color='${textColor}'">Impressum</a>
                  <a href="#" style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.6; text-decoration: none; transition: opacity 0.2s; font-weight: 300;" onmouseover="this.style.opacity='1'; this.style.color='${primaryColor}'" onmouseout="this.style.opacity='0.6'; this.style.color='${textColor}'">Datenschutz</a>
                  <a href="#" style="font-size: ${baseSize * 0.95
                }px; color: ${textColor}; opacity: 0.6; text-decoration: none; transition: opacity 0.2s; font-weight: 300;" onmouseover="this.style.opacity='1'; this.style.color='${primaryColor}'" onmouseout="this.style.opacity='0.6'; this.style.color='${textColor}'">Kontakt</a>
                </div>
              </div>
            </div>
            
            <div style="border-top: 1px solid ${primaryColor}10; padding-top: 28px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px;">
              <p style="font-size: ${baseSize * 0.85
                }px; color: ${textColor}; opacity: 0.5; font-weight: 300;">
                © ${new Date().getFullYear()} Praxis ${config.doctor_name || defaultConfig.doctor_name
                }. Alle Rechte vorbehalten.
              </p>
              <svg width="50" height="20" viewBox="0 0 50 20" fill="none" aria-hidden="true" focusable="false">
                <path d="M 5 10 L 8 14 L 14 11 L 11 17 L 17 14 L 14 20 Z" fill="${primaryColor}" opacity="0.3"/>
                <circle cx="30" cy="10" r="4" fill="${secondaryColor}" opacity="0.3"/>
                <path d="M 40 5 L 42 9 L 46 11 L 42 13 L 40 17 L 38 13 L 34 11 L 38 9 Z" fill="${primaryColor}" opacity="0.3"/>
              </svg>
            </div>
            </div>
        </footer>
        `;
        }

        const elementApi = {
            defaultConfig,
            onConfigChange,
            mapToCapabilities: (config) => ({
                recolorables: [
                    {
                        get: () =>
                            config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            config.background_color = value;
                            window.elementSdk.setConfig({ background_color: value });
                        },
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            config.surface_color = value;
                            window.elementSdk.setConfig({ surface_color: value });
                        },
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            config.text_color = value;
                            window.elementSdk.setConfig({ text_color: value });
                        },
                    },
                    {
                        get: () =>
                            config.primary_action_color ||
                            defaultConfig.primary_action_color,
                        set: (value) => {
                            config.primary_action_color = value;
                            window.elementSdk.setConfig({ primary_action_color: value });
                        },
                    },
                    {
                        get: () =>
                            config.secondary_action_color ||
                            defaultConfig.secondary_action_color,
                        set: (value) => {
                            config.secondary_action_color = value;
                            window.elementSdk.setConfig({ secondary_action_color: value });
                        },
                    },
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        config.font_family = value;
                        window.elementSdk.setConfig({ font_family: value });
                    },
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        config.font_size = value;
                        window.elementSdk.setConfig({ font_size: value });
                    },
                },
            }),
            mapToEditPanelValues: (config) =>
                new Map([
                    ["hero_title", config.hero_title || defaultConfig.hero_title],
                    [
                        "hero_subtitle",
                        config.hero_subtitle || defaultConfig.hero_subtitle,
                    ],
                    ["doctor_name", config.doctor_name || defaultConfig.doctor_name],
                    [
                        "practice_address",
                        config.practice_address || defaultConfig.practice_address,
                    ],
                    ["phone_number", config.phone_number || defaultConfig.phone_number],
                    [
                        "primary_button_text",
                        config.primary_button_text || defaultConfig.primary_button_text,
                    ],
                    [
                        "secondary_button_text",
                        config.secondary_button_text ||
                        defaultConfig.secondary_button_text,
                    ],
                    [
                        "call_button_text",
                        config.call_button_text || defaultConfig.call_button_text,
                    ],
                ]),
        };

        if (window.elementSdk && window.elementSdk.init) {
            // Режим Canva/Element
            window.elementSdk.init(elementApi);
            onConfigChange(window.elementSdk.config);
        } else {
            // Обычный статичный режим – просто рисуем страницу с defaultConfig
            document.addEventListener("DOMContentLoaded", () => {
                onConfigChange(defaultConfig);
            });
        }
    </script>
</body>

</html>
